<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Voa Brasil - Status</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Rawline", -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
      }

      body {
        background-color: #f8f9fa;
        min-height: 100vh;
        max-width: 100%;
        overflow-x: hidden;
        position: relative;
      }

      .header-image {
        width: 100%;
        background: white;
      }

      .header-image img {
        width: 100%;
        height: auto;
        display: block;
      }

      .header-content {
        position: absolute;
        top: 10px;
        right: 30px;
        display: flex;
        align-items: center;
        gap: 12px;
        z-index: 10;
      }

      .header-button {
        background: transparent;
        color: white;
        padding: 6px 16px 6px 36px;
        border-radius: 20px;
        text-decoration: none;
        font-size: 15px;
        font-weight: 500;
        position: relative;
      }

      .header-button::before {
        content: "";
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        width: 16px;
        height: 16px;
        background-image: url("imagens/user-icon.png");
        background-size: contain;
        background-repeat: no-repeat;
      }

      .container {
        width: 100%;
        max-width: 460px;
        margin: 16px auto;
        background: white;
        padding: 24px 16px;
        border-radius: 8px;
      }

      .welcome-text {
        text-align: center;
        margin-bottom: 40px;
      }

      .welcome-text h1 {
        font-size: 32px;
        color: #1b1b1b;
        margin-bottom: 8px;
      }

      .welcome-text p {
        font-size: 16px;
        color: #666;
      }

      .stats-card {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 24px;
        margin: 24px 0;
      }

      .stats-header {
        text-align: center;
        margin-bottom: 32px;
      }

      .stats-header h2 {
        font-size: 24px;
        color: #1b1b1b;
        margin-bottom: 8px;
      }

      .chart-container {
        position: relative;
        width: 280px;
        height: 280px;
        margin: 0 auto 32px;
      }

      .percentage-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 48px;
        font-weight: bold;
        color: #1351b4;
      }

      .progress-ring {
        transform: rotate(-90deg);
      }

      .progress-ring-circle-bg {
        fill: none;
        stroke: #e5e5e5;
        stroke-width: 8;
      }

      .progress-ring-circle {
        fill: none;
        stroke: #1351b4;
        stroke-width: 8;
        stroke-linecap: round;
        stroke-dasharray: 816.8;
        stroke-dashoffset: 816.8;
        transition: stroke-dashoffset 2s ease-in-out;
      }

      .progress-ring-circle.animate {
        stroke-dashoffset: 20;
        /* Aumenta a lacuna para aproximadamente 2.5% */
      }

      .stats-info {
        text-align: center;
        color: #666;
        margin-bottom: 24px;
      }

      .stats-details {
        display: flex;
        justify-content: space-between;
        margin-top: 24px;
      }

      .stats-item {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .stats-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
      }

      .stats-dot.blue {
        background: #1351b4;
      }

      .stats-dot.gray {
        background: #e5e5e5;
      }

      .stats-text {
        display: flex;
        flex-direction: column;
      }

      .stats-label {
        font-size: 14px;
        color: #666;
      }

      .stats-value {
        font-size: 16px;
        color: #1b1b1b;
        font-weight: 500;
      }

      .action-button {
        width: 100%;
        padding: 16px;
        background: #1351b4;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        margin-top: 32px;
      }

      .action-button:hover {
        background: #0d47a1;
      }

      .attention-box {
        background: #fffbe6;
        border-radius: 8px;
        padding: 24px;
        margin-top: 24px;
      }

      .attention-title {
        font-size: 24px;
        color: #8b4513;
        margin-bottom: 16px;
      }

      .attention-text {
        font-size: 16px;
        color: #8b4513;
        line-height: 1.5;
        margin-bottom: 16px;
      }

      .attention-text:last-child {
        margin-bottom: 0;
      }

      .footer-image {
        width: 100%;
        margin-top: 40px;
      }

      .footer-image img {
        width: 100%;
        height: auto;
        display: block;
      }
    </style>
  </head>

  <body>
    <div class="header-image">
      <img src="images/head-pag3-2.0.jpg" alt="Header" />
      <div class="header-content">
        <a href="#" class="header-button" id="user-name-button">CLIENTE</a>
      </div>
    </div>

    <div class="container">
      <div class="welcome-text">
        <h1>Olá, Visitante!</h1>
        <p>Bem-vindo ao Voa Brasil</p>
      </div>

      <div class="stats-card">
        <div class="stats-header">
          <h2>99,8% dos Cadastros</h2>
          <p>Preenchidos</p>
        </div>

        <div class="chart-container">
          <svg
            class="progress-ring"
            width="280"
            height="280"
            viewBox="0 0 280 280"
          >
            <circle
              class="progress-ring-circle-bg"
              cx="140"
              cy="140"
              r="130"
            ></circle>
            <circle
              class="progress-ring-circle"
              cx="140"
              cy="140"
              r="130"
            ></circle>
          </svg>
          <div class="percentage-text">0%</div>
        </div>

        <div class="stats-info">Total de cadastros: 3.452.750</div>

        <div class="stats-details">
          <div class="stats-item">
            <div class="stats-dot blue"></div>
            <div class="stats-text">
              <span class="stats-label">Realizados:</span>
              <span class="stats-value">3.445.855</span>
            </div>
          </div>
          <div class="stats-item">
            <div class="stats-dot gray"></div>
            <div class="stats-text">
              <span class="stats-label">Disponíveis:</span>
              <span class="stats-value">6.895</span>
            </div>
          </div>
        </div>
      </div>

      <button class="action-button">Fazer Cadastro Agora</button>

      <div class="attention-box">
        <h3 class="attention-title">Atenção!</h3>
        <p class="attention-text">
          Restam apenas 6.862 vagas disponíveis no Programa Voa Brasil. Não
          perca a oportunidade de garantir seu benefício!
        </p>
        <p class="attention-text">
          Tem interesse em se cadastrar no programa? Verifique agora mesmo se
          você possui direito.
        </p>
      </div>
    </div>

    <div class="footer-image">
      <img src="images/rodape3.jpg" alt="Rodapé" />
    </div>

    <script>
      const circle = document.querySelector(".progress-ring-circle");
      const percentageText = document.querySelector(".percentage-text");

      const userNameButton = document.getElementById("user-name-button");

      // Atualizar o nome do usuário no botão do header
      try {
        const dadosUsuario = JSON.parse(localStorage.getItem("dadosCPF")) || {};
        if (dadosUsuario.NOME) {
          userNameButton.textContent = dadosUsuario.NOME.split(" ")[0];
        }
      } catch (error) {
        log("Erro ao recuperar nome do usuário do localStorage", error);
      }
      function animateValue(start, end, duration) {
        let startTimestamp = null;
        const step = (timestamp) => {
          if (!startTimestamp) startTimestamp = timestamp;
          const progress = Math.min((timestamp - startTimestamp) / duration, 1);
          const currentValue = progress * (end - start) + start;
          percentageText.textContent = currentValue.toFixed(1) + "%";
          if (progress < 1) {
            window.requestAnimationFrame(step);
          }
        };
        window.requestAnimationFrame(step);
      }

      window.addEventListener("load", () => {
        setTimeout(() => {
          circle.classList.add("animate");
          animateValue(0, 98.8, 2000);
        }, 300);
      });

      document.querySelector(".action-button").addEventListener("click", () => {
        window.location.href = "../9/index.html" + window.location.search;
      });
    </script>
  </body>
</html>
